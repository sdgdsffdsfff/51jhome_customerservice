if(void 0==GID){var GID="jielingongshe"}if(void 0==ENABLE_LB){var ENABLE_LB=!0}var APP_DEPLOYMENT="WX",IS_IOS=navigator.userAgent.match(/(iPad|iPhone|iPod)/g)?!0:!1,IS_ANDROID=-1<navigator.userAgent.indexOf("Android"),KEY_MY_ID="myid",KEY_FOLLOWED="flw",KEY_BEST_SUFFIX=":best";jielinShare={title:GID,desc:GID,link:GAME_SHARE_URL,imgUrl:GAME_IMG_URL,doneJump:GAME_SHARE_URL};document.addEventListener("WeixinJSBridgeReady",function(){APP_DEPLOYMENT="WX";WeixinJSBridge.call("showOptionMenu");WeixinJSBridge.call("hideToolbar");WeixinJSBridge.on("menu:share:appmessage",function(b){WeixinJSBridge.invoke("sendAppMessage",{title:jielinShare.title,desc:jielinShare.desc,link:jielinShare.link,img_url:jielinShare.imgUrl},function(a){document.location.href=jielinShare.doneJump})});WeixinJSBridge.on("menu:share:timeline",function(b){WeixinJSBridge.invoke("shareTimeline",{title:jielinShare.desc,desc:jielinShare.desc,link:jielinShare.link,img_url:jielinShare.imgUrl},function(a){document.location.href=jielinShare.doneJump})});WeixinJSBridge.on("menu:share:weibo",function(b){WeixinJSBridge.invoke("shareWeibo",{content:jielinShare.desc,url:jielinShare.link},function(a){document.location.href=jielinShare.doneJump})})});(function(b,h){var e=GID+KEY_BEST_SUFFIX;b.myPid=function(){return b.storage.get(KEY_MY_ID)};b.isFollowed=function(){return b.storage.get(KEY_FOLLOWED)};b.updateLoginInfo=function(a,c){a&&a!=b.storage.get(KEY_MY_ID)&&b.storage.set(KEY_MY_ID,a);a&&a!=b.storage.get(KEY_FOLLOWED)&&b.storage.set(KEY_FOLLOWED,c)};b.onNewScore=function(a){ENABLE_LB&&(a>b.best&&(newRecord=!0,a>b.best&&(b.best=a,b.storage.set(e,b.best))),a>SCORE_LIMIT&&b.uploadScore(a))};b.storage=b.storage||{};b.storage.get=function(c){try{if(c in localStorage){return localStorage[c]}}catch(d){}return $.cookie(c)};b.storage.set=function(d,f){try{return localStorage[d]=f,!0}catch(g){}$.cookie(d,f,{expires:365});return!0};b.score=0;b.best=b.storage.get(e)||0;b.newRecord=!1;b.newscore_wxoauth=function(a){return};b.uploadScore=function(a){return};b.startOAuth=function(){};b.leaderboard=function(d,f,g){return};b.onGameInit=function(){};b.onGameStarted=function(){JielinStage.showFollowAnim(!1)};b.onGameOver=function(){JielinStage.showFollowAnim(!0)};b.leaderboard=function(f,k,g){return}})(window.jielinApp=window.jielinApp||{});