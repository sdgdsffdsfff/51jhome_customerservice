<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>sql和Mongodb对应的语法</title>
<style>
html{font-size:14px;}
body{margin:0; padding:0;font-style: normal;font-family:"\5fae\8f6f\96c5\9ed1",Arial, Helvetica, sans-serif;}
em{ font-style:normal}
</style>
</head>

<body>
<table width="800" align="center">
  <thead valign="middle">
    <tr valign="middle">
      <th height="30">SQL Statement</th>
      <th>Mongo Query Language Statement</th>
    </tr>
  </thead>
  <tbody valign="middle">
    <tr valign="middle">
      <td height="30" align="left"><em>CREATE TABLE USERS (a Number, b Number)</em></td>
      <td align="left">Implicit or use <a href="http://www.php.net/manual/en/mongodb.createcollection.php">MongoDB::createCollection()</a>.</td>
    </tr>
    <tr valign="middle">
      <td height="30" align="left"><em>INSERT INTO USERS VALUES(1,1)</em></td>
      <td align="left"><em>$db-&gt;users-&gt;insert(array(&quot;a&quot; =&gt; 1, &quot;b&quot; =&gt; 1));</em></td>
    </tr>
    <tr valign="middle">
      <td height="30" align="left"><em>SELECT a,b FROM users</em></td>
      <td align="left"><em>$db-&gt;users-&gt;find(array(), array(&quot;a&quot; =&gt; 1, &quot;b&quot; =&gt; 1));</em></td>
    </tr>
    <tr valign="middle">
      <td height="30" align="left"><em>SELECT * FROM users WHERE age=33</em></td>
      <td align="left"><em>$db-&gt;users-&gt;find(array(&quot;age&quot; =&gt; 33));</em></td>
    </tr>
    <tr valign="middle">
      <td height="30" align="left"><em>SELECT a,b FROM users WHERE age=33</em></td>
      <td align="left"><em>$db-&gt;users-&gt;find(array(&quot;age&quot; =&gt; 33), array(&quot;a&quot; =&gt; 1, &quot;b&quot; =&gt; 1));</em></td>
    </tr>
    <tr valign="middle">
      <td height="30" align="left"><em>SELECT a,b FROM users WHERE age=33</em></td>
      <td align="left"><em>$db-&gt;users-&gt;find(array(&quot;age&quot; =&gt; 33), array(&quot;a&quot; =&gt; 1, &quot;b&quot; =&gt; 1));</em></td>
    </tr>
    <tr valign="middle">
      <td height="30" align="left"><em>SELECT a,b FROM users WHERE age=33 ORDER BY name</em></td>
      <td align="left"><em>$db-&gt;users-&gt;find(array(&quot;age&quot; =&gt; 33), array(&quot;a&quot; =&gt; 1, &quot;b&quot; =&gt; 1))-&gt;sort(array(&quot;name&quot; =&gt; 1));</em></td>
    </tr>
    <tr valign="middle">
      <td height="30" align="left"><em>SELECT * FROM users WHERE age&gt;33</em></td>
      <td align="left"><em>$db-&gt;users-&gt;find(array(&quot;age&quot; =&gt; array('$gt' =&gt; 33)));</em></td>
    </tr>
    <tr valign="middle">
      <td height="30" align="left"><em>SELECT * FROM users WHERE age&lt;33</em></td>
      <td align="left"><em>$db-&gt;users-&gt;find(array(&quot;age&quot; =&gt; array('$lt' =&gt; 33)));</em></td>
    </tr>
    <tr valign="middle">
      <td height="30" align="left"><em>SELECT * FROM users WHERE name LIKE &quot;%Joe%&quot;</em></td>
      <td align="left"><em>$db-&gt;users-&gt;find(array(&quot;name&quot; =&gt; new MongoRegex(&quot;/Joe/&quot;)));</em></td>
    </tr>
    <tr valign="middle">
      <td height="30" align="left"><em>SELECT * FROM users WHERE name LIKE &quot;Joe%&quot;</em></td>
      <td align="left"><em>$db-&gt;users-&gt;find(array(&quot;name&quot; =&gt; new MongoRegex(&quot;/^Joe/&quot;)));</em></td>
    </tr>
    <tr valign="middle">
      <td height="30" align="left"><em>SELECT * FROM users WHERE age&gt;33 AND age&lt;=40</em></td>
      <td align="left"><em>$db-&gt;users-&gt;find(array(&quot;age&quot; =&gt; array('$gt' =&gt; 33, '$lte' =&gt; 40)));</em></td>
    </tr>
    <tr valign="middle">
      <td height="30" align="left"><em>SELECT * FROM users ORDER BY name DESC</em></td>
      <td align="left"><em>$db-&gt;users-&gt;find()-&gt;sort(array(&quot;name&quot; =&gt; -1));</em></td>
    </tr>
    <tr valign="middle">
      <td height="30" align="left"><em>CREATE INDEX myindexname ON users(name)</em></td>
      <td align="left"><em>$db-&gt;users-&gt;ensureIndex(array(&quot;name&quot; =&gt; 1));</em></td>
    </tr>
    <tr valign="middle">
      <td height="30" align="left"><em>CREATE INDEX myindexname ON users(name,ts DESC)</em></td>
      <td align="left"><em>$db-&gt;users-&gt;ensureIndex(array(&quot;name&quot; =&gt; 1, &quot;ts&quot; =&gt; -1));</em></td>
    </tr>
    <tr valign="middle">
      <td height="30" align="left"><em>SELECT * FROM users WHERE a=1 and b='q'</em></td>
      <td align="left"><em>$db-&gt;users-&gt;find(array(&quot;a&quot; =&gt; 1, &quot;b&quot; =&gt; &quot;q&quot;));</em></td>
    </tr>
    <tr valign="middle">
      <td height="30" align="left"><em>SELECT * FROM users LIMIT 10 SKIP 20</em></td>
      <td align="left"><em>$db-&gt;users-&gt;find()-&gt;limit(10)-&gt;skip(20);</em></td>
    </tr>
    <tr valign="middle">
      <td height="30" align="left"><em>SELECT * FROM users WHERE a=1 or b=2</em></td>
      <td align="left"><em>$db-&gt;users-&gt;find(array('$or' =&gt; array(array(&quot;a&quot; =&gt; 1), array(&quot;b&quot; =&gt; 2))));</em></td>
    </tr>
    <tr valign="middle">
      <td height="30" align="left"><em>SELECT * FROM users LIMIT 1</em></td>
      <td align="left"><em>$db-&gt;users-&gt;find()-&gt;limit(1);</em></td>
    </tr>
    <tr valign="middle">
      <td height="30" align="left"><em>EXPLAIN SELECT * FROM users WHERE z=3</em></td>
      <td align="left"><em>$db-&gt;users-&gt;find(array(&quot;z&quot; =&gt; 3))-&gt;explain()</em></td>
    </tr>
    <tr valign="middle">
      <td height="30" align="left"><em>SELECT DISTINCT last_name FROM users</em></td>
      <td align="left"><em>$db-&gt;command(array(&quot;distinct&quot; =&gt; &quot;users&quot;, &quot;key&quot; =&gt; &quot;last_name&quot;));</em></td>
    </tr>
    <tr valign="middle">
      <td height="30" align="left"><em>SELECT COUNT(*y) FROM users</em></td>
      <td align="left"><em>$db-&gt;users-&gt;count();</em></td>
    </tr>
    <tr valign="middle">
      <td height="30" align="left"><em>SELECT COUNT(*y) FROM users where AGE &gt; 30</em></td>
      <td align="left"><em>$db-&gt;users-&gt;find(array(&quot;age&quot; =&gt; array('$gt' =&gt; 30)))-&gt;count();</em></td>
    </tr>
    <tr valign="middle">
      <td height="30" align="left"><em>SELECT COUNT(AGE) from users</em></td>
      <td align="left"><em>$db-&gt;users-&gt;find(array(&quot;age&quot; =&gt; array('$exists' =&gt; true)))-&gt;count();</em></td>
    </tr>
    <tr valign="middle">
      <td height="30" align="left"><em>UPDATE users SET a=1 WHERE b='q'</em></td>
      <td align="left"><em>$db-&gt;users-&gt;update(array(&quot;b&quot; =&gt; &quot;q&quot;), array('$set' =&gt; array(&quot;a&quot; =&gt; 1)));</em></td>
    </tr>
    <tr valign="middle">
      <td height="30" align="left"><em>UPDATE users SET a=a+2 WHERE b='q'</em></td>
      <td align="left"><em>$db-&gt;users-&gt;update(array(&quot;b&quot; =&gt; &quot;q&quot;), array('$inc =&gt; array(&quot;a&quot; =&gt; 2)));</em></td>
    </tr>
    <tr valign="middle">
      <td height="30" align="left"><em>DELETE FROM users WHERE z=&quot;abc&quot;</em></td>
      <td align="left"><em>$db-&gt;users-&gt;remove(array(&quot;z&quot; =&gt; &quot;abc&quot;));
      </em></td>
    </tr>
    <tr valign="middle">
      <td height="30" align="left">&nbsp;</td>
      <td align="left"><p>MongoDB中条件操作符有：</p>
        <ul>
          <li>(&gt;) 大于 - $gt</li>
          <li>(&lt;) 小于 - $lt</li>
          <li>(&gt;=) 大于等于 - $gte</li>
          <li>(&lt;= ) 小于等于 - $lte</li>
      </ul></td>
    </tr>
  </tbody>
</table>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
</body>
</html>
